---
title: "Data Input Lab"
output: html_document
editor_options: 
  chunk_output_type: console
---

## Helpful tips before we start

### TROUBLESHOOTING: Common new user mistakes we have seen

- Check the file path -- is the file there?  
- Typos (R is **case sensitive**, `x` and `X` are different)  
- Open ended quotes, parentheses, and brackets     
- Deleting part of the code chunk  
- For any function, you can write `?FUNCTION_NAME`, or `help("FUNCTION_NAME")` to look at the help file

### R Projects

R Projects can help you keep files organized and avoid issues with working directories. Check out our resource here: https://daseh.org/resources/R_Projects.html


## Lab

In this lab you can use the interactive console to explore or **Knit** the document. 
Remember anything you type here can be "sent" to the console with Cmd-Enter (OS-X) or Ctrl-Enter (Windows/Linux) in an R code chunk.

```{r}
# Load the necessary package
library(readr)
```

### 1.1

Use the manual import method (File > Import Dataset > From Text (`readr`)) to read in the CalEnviroScreen data from this URL:

https://daseh.org/data/CalEnviroScreen_data.csv

These data were collected by California Office of Health Hazard Assessment to track environmental measures (like pollution, water contamination, etc.) that can impact human health. You can read more about the project [here](https://calenviroscreen-oehha.hub.arcgis.com/)

### 1.2

What is the dataset object called? You can find this information in the Console or the Environment. Enter your answer as a comment using `#`.

```{r 1.2response}

```

### 1.3

Preview the data by clicking the table button in the Environment. How many observations and variables are there? Enter your answer as a comment using `#`.

```{r 1.3response}

```

### 1.4

Read in the CalEnviroScreen data from https://daseh.org/data/CalEnviroScreen_data.csv
and assign it to an object named `ces`. Use the code structure below.

```
# General format
library(readr)
# OBJECT <- read_csv(FILE)
```

```{r 1.4response}

```

### 1.5

Take a look at the data. Do these data objects (`CalEnviroScreen_data` and `ces`) appear to be the same? Why or why not?

```{r 1.5response}

```

### 1.6

Learn your working directory by running `getwd()`. This is where R will look for files unless you tell it otherwise.

```{r 1.6response}

```


# Practice on Your Own!

### P.1

Load the `readxl` package with the `library()` command. 

If it is not installed, install it via: `RStudio --> Tools --> Install Packages`. You can also try `install.packages("readxl")`.

```{r P.1response}

```

### P.2
Let's try loading an Excel file of CalEnviroScreen measures for just Alameda County, CA.

Download this dataset using the url https://daseh.org/data/CalEnviroScreen_data_AlamedaCounty.xlsx

Assign it to the object name `ces_alameda.xlsx` by running the following code chunk. This only downloads the file, it does NOT bring the file into R.

```{r}
download.file(
  url = "https://daseh.org/data/CalEnviroScreen_data_AlamedaCounty.xlsx",
  destfile = "ces_Alameda.xlsx",
  overwrite = TRUE,
  mode = "wb"
)
```

Note: the "wb" option makes sure the file can be read correctly on Windows and Apple machines.

### P.3

Use the `read_excel()` function in the `readxl` package to read the `nitrate.xlsx` file and call the output `nitrate`. 

```{r P.3response}

```

### P.4

Run the following code - is there a problem? How do you know?

```{r}
test <- read_delim("https://daseh.org/data/CalEnviroScreen_data.csv", delim = "\t")
test
```

```{r P.4response}

```